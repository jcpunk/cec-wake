# cec-wake.conf - Configuration for cec-wake-daemon
#
# Location: ~/.config/cec-wake/cec-wake.conf
#
# This file is loaded by the systemd user service unit via:
#   EnvironmentFile=%h/.config/cec-wake/cec-wake.conf
#
# Format: KEY=value (shell-style, no quoting needed for simple values)
# Lines beginning with # are comments and are ignored.
# All settings are optional; commented-out values show the built-in defaults.
#
# CLI arguments always take precedence over values set here.
# Changes take effect on the next service restart:
#   systemctl --user restart cec-wake.service


# ---------------------------------------------------------------------------
# CEC adapter
# ---------------------------------------------------------------------------

# Path to the CEC device node to check for at startup.
# The daemon waits up to CEC_WAKE_DEVICE_TIMEOUT seconds for this path to
# appear and be writable before giving up.
#
# This path is NOT passed to cec-client; libcec always auto-detects the
# Pulse-Eight USB adapter via USB enumeration.  An explicit path would be
# treated as a serial port, which fails on USB character devices.
#
# On Fedora/RHEL, /dev/cec is a symlink created by udev pointing to the
# raw USB device node.  Access is granted to the active seat user
# automatically by systemd-logind via udev uaccess tagging.
#
# Default: /dev/cec
#CEC_WAKE_ADAPTER=/dev/cec

# Seconds to wait for the CEC device to appear at startup.
# Increase if the Pulse-Eight adapter takes time to enumerate after boot
# or after a USB hub powers up.
#
# Default: 120
#CEC_WAKE_DEVICE_TIMEOUT=120


# ---------------------------------------------------------------------------
# HDMI port
# ---------------------------------------------------------------------------

# HDMI port number the PC is physically connected to on the TV (1-15).
#
# Sets the CEC physical address via cec-client -p, bypassing DRM-based
# auto-detection.  DRM auto-detection reads /dev/dri/card0 to determine
# the physical address; on nvidia systems the GPU may enumerate as card1
# rather than card0, causing auto-detection to return 0.0.0.0 (invalid).
#
# To find the correct port number: with the TV on and the PC connected,
# check which HDMI input the TV shows the PC on.  That input number is
# this value.
#
# Set to 0 to use libcec auto-detection (only reliable if DRM detection
# works correctly on your system).
#
# Default: 0 (auto-detect)
#CEC_WAKE_HDMI_PORT=0


# ---------------------------------------------------------------------------
# OSD name
# ---------------------------------------------------------------------------

# Name broadcast to the TV via the CEC SetOSDName message.
# Appears in the TV's input source list and CEC device list.
# Maximum 14 ASCII printable characters.  Purely cosmetic; does not affect
# functionality.  Omit to use libcec's built-in default ("CECTester").
#
# Default: (empty, uses libcec default)
#CEC_WAKE_OSD_NAME=


# ---------------------------------------------------------------------------
# Idle timeout (ext-idle-notify-v1)
# ---------------------------------------------------------------------------

# Idle duration in seconds before the Wayland compositor considers this
# daemon's notification object idle, arming it for a 'resumed' event on
# next user activity.
#
# This value must be strictly less than the display power-off timeout
# configured in KDE System Settings -> Power Management -> Energy Saving
# -> Screen Energy Saving.  The exact value does not affect correctness
# as long as this constraint is met; once 'idled' fires the object resets
# after each 'resumed' event, making spurious wakes impossible.
#
# A value of 60s is suitable for any screen-off timeout longer than 1
# minute, which covers all practical configurations.
#
# Default: 60
#CEC_WAKE_IDLE_TIMEOUT=60


# ---------------------------------------------------------------------------
# Wake on start
# ---------------------------------------------------------------------------

# Send a CEC Power-On + Active-Source command shortly after the daemon
# starts.  Useful to ensure the TV switches to the correct input when the
# PC is powered on or the daemon is restarted.
#
# Set to 1 to enable, 0 to disable.
#
# Default: 0 (disabled)
#CEC_WAKE_WAKE_ON_START=0


# ---------------------------------------------------------------------------
# Debug logging
# ---------------------------------------------------------------------------

# Enable verbose debug logging, including raw cec-client output and
# per-event Wayland and DBus trace messages.  Useful for diagnosing
# missed wake events or CEC command failures.
#
# Logs are written to stdout and captured by the systemd journal.
# View with: journalctl --user -u cec-wake.service -f
#
# Set to 1 to enable, 0 to disable.
#
# Default: 0 (disabled)
#CEC_WAKE_DEBUG=0


# ---------------------------------------------------------------------------
# Source control
# ---------------------------------------------------------------------------

# Disable Wayland event sources (ext-idle-notify-v1 and
# zwlr-output-power-management-v1).
#
# Use on X11-only systems where WAYLAND_DISPLAY is not set, or if the
# Wayland path causes unexpected behaviour.  On X11, the logind IdleHint
# path (see below) is the primary wake mechanism.
#
# Set to 1 to disable, 0 to enable.
#
# Default: 0 (enabled)
#CEC_WAKE_NO_WAYLAND=0

# Disable DBus event sources (screensaver ActiveChanged/SessionIdleChanged,
# logind IdleHint, and logind PrepareForSleep).
#
# Use if DBus monitoring causes spurious wakes in your environment, or if
# python3-dbus / python3-gobject are not installed and you want to suppress
# the warning log rather than install them.
#
# Set to 1 to disable, 0 to enable.
#
# Default: 0 (enabled)
#CEC_WAKE_NO_DBUS=0
